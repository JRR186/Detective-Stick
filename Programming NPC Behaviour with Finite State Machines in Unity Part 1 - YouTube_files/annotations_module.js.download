(function(g){var window=this;'use strict';var BJ=function(k){k.publish("cardstatechange",k.OG()&&k.Yr()?1:0)},Iz=function(k,n){var t=g.gx(n),d=t?n:arguments;
for(t=t?0:1;t<d.length;t++){if(k==null)return;k=k[d[t]]}return k},nd5=function(k){var n=g.sr(k);
k=g.Ur(k);return new g.oe(n.x,n.y,k.width,k.height)},t_i=function(k,n,t){var d=d===void 0?{}:d;
var G;return G=g.Ue(k,n,function(){g.BP(G);t.apply(k,arguments)},d)},An=function(k){k=g.S7(k);
delete hn[k];g.je(hn)&&VY&&VY.stop()},GNi=function(){VY||(VY=new g.CB(function(){dAi()},20));
var k=VY;k.isActive()||k.start()},dAi=function(){var k=g.d4();
g.I9(hn,function(n){RDD(n,k)});
g.je(hn)||GNi()},WJ=function(k,n,t,d){g.wH.call(this);
if(!Array.isArray(k)||!Array.isArray(n))throw Error("Start and end parameters must be arrays");if(k.length!=n.length)throw Error("Start and end points must be the same length");this.T=k;this.W=n;this.duration=t;this.D=d;this.coords=[];this.progress=this.L=0;this.S=null},RDD=function(k,n){n<k.startTime&&(k.endTime=n+k.endTime-k.startTime,k.startTime=n);
k.progress=(n-k.startTime)/(k.endTime-k.startTime);k.progress>1&&(k.progress=1);k.L=1E3/(n-k.S);k.S=n;OkK(k,k.progress);k.progress==1?(k.B=0,An(k),k.onFinish(),k.cL()):k.isPlaying()&&k.dC()},OkK=function(k,n){typeof k.D==="function"&&(n=k.D(n));
k.coords=Array(k.T.length);for(var t=0;t<k.T.length;t++)k.coords[t]=(k.W[t]-k.T[t])*n+k.T[t]},Y5W=function(k,n){g.zR.call(this,k);
this.coords=n.coords;this.x=n.coords[0];this.y=n.coords[1];this.z=n.coords[2];this.duration=n.duration;this.progress=n.progress;this.fps=n.L;this.state=n.B},qC=function(k,n,t,d,G){WJ.call(this,n,t,d,G);
this.element=k},odW=function(k,n,t,d,G){if(n.length!=2||t.length!=2)throw Error("Start and end points must be 2D");
qC.call(this,k,n,t,d,G)},DAG=function(k){return Math.pow(k,3)},$AO=function(k){return 3*k*k-2*k*k*k},Zkm=function(k){g.N.call(this);
this.T=k||window;this.B=[]},eH=function(k){return k.baseUrl||null},HJ=function(k,n){return g.Zx(g.VU(k,n),function(t){return!!t})},xAk=function(k,n,t){function d(Y$){var S=Y$.hovercardButton;
if(!S)return null;S=S.subscribeButtonRenderer;if(!S)return null;var a=R(S.unsubscribedButtonText),p=R(S.subscribedButtonText);if(S.subscribed){var X=R(S.subscriberCountWithUnsubscribeText);var K=R(S.subscriberCountText)}else X=R(S.subscriberCountText),K=R(S.subscriberCountWithSubscribeText);var zb=null;if(Y$.signinEndpoint){zb=Iz(Y$,"signinEndpoint","webNavigationEndpointData","url");if(!zb){var hk,m_;zb=(m_=g.z((hk=S.signInEndpoint)==null?void 0:hk.commandMetadata,g.b5))==null?void 0:m_.url}if(!zb)return null}return a&&
(p||zb)?{subscribed:S.subscribed,subscribeText:a,subscribeCount:X,unsubscribeText:p,unsubscribeCount:K,enabled:S.enabled,signinUrl:zb,classic:Y$.useClassicSubscribeButton}:null}
function G(Y$){if(Y$){var S=[],a=Y$.videoId;a&&S.push("v="+a);(a=Y$.playlistId)&&S.push("list="+a);(Y$=Y$.startTimeSeconds)&&S.push("t="+Y$);return"/watch?"+S.join("&")}}
function R(Y$){if(!Y$)return null;var S=Y$.simpleText;return S?S:Y$.runs?g.VU(Y$.runs,function(a){return a.text}).join(""):null}
n=n.endscreenElementRenderer;if(!n)return null;var O=n.style,D=n.endpoint||{},Z=null,x=null,w=!1,T=null,J=null,L=null,b=null,E=!1,B=null,h=null,W=null,e=null,P=null,Q=null;if(O==="VIDEO")g.z(D,g.ND)?Z=g.z(D,g.ND).url:(Q=g.z(D,g.tb),Z=G(Q)),x=!1,T=k,n.thumbnailOverlays?(w=n.thumbnailOverlays[0].thumbnailOverlayTimeStatusRenderer,J=R(w.text),w=w.style==="LIVE"):J=R(n.videoDuration);else if(O==="PLAYLIST")g.z(D,g.ND)?Z=g.z(D,g.ND).url:(Q=g.z(D,g.tb),Z=G(Q)),x=!1,T=k,L=R(n.playlistLength);else if(O===
"CHANNEL"){if(E=Iz(D,"browseEndpoint","browseId"))b=E,Z="/channel/"+b;x=!1;T="new";(E=!!n.isSubscribe)?B=d(n):h=R(n.subscribersText)}else O==="WEBSITE"?((W=Iz(D,"urlEndpoint","url"))&&(Z=W),x=!0,T="new",W=n.icon.thumbnails[0].url):O==="CREATOR_MERCHANDISE"&&(n.productPrice&&(e=R(n.productPrice)),n.additionalFeesText&&(P=R(n.additionalFeesText)),(x=Iz(D,"urlEndpoint","url"))&&(Z=x),x=!0,T="new");k=Iz(n,"title","accessibility","accessibilityData","label");var k$=n.endpoint?n.endpoint.clickTrackingParams:
null,M="";if(n.metadata){var Gb=R(n.metadata);Gb&&(M=Gb)}return{id:"element-"+t,type:O,title:R(n.title),metadata:M,callToAction:R(n.callToAction),K6:n.image,iconUrl:W,left:Number(n.left),width:Number(n.width),top:Number(n.top),aspectRatio:Number(n.aspectRatio),startMs:Math.floor(Number(n.startMs)),endMs:Math.floor(Number(n.endMs)),videoDuration:J,SD:w,playlistLength:L,channelId:b,subscribeButton:B,subscribersText:h,isSubscribe:E,targetUrl:Z||null,qUf:x,sessionData:k$?{itct:k$}:null,Myf:T,ym:k?k:null,
isPlaceholder:n.isPlaceholder,impressionUrls:HJ(n.impressionUrls||[],eH),z_f:HJ(n.hovercardShowUrls||[],eH),clickUrls:HJ(D.loggingUrls||[],eH),visualElement:g.Im(n.trackingParams),productPrice:e,additionalFeesText:P,watchEndpoint:Q||null}},wQ4=function(k,n){var t={startMs:Math.floor(Number(k.startMs)),
impressionUrls:HJ(k.impressionUrls||[],eH),elements:HJ(k.elements||[],function(d,G){return xAk(n,d,G)})};
k.trackingParams&&(t.visualElement=g.Im(k.trackingParams));return t},TQ5=function(k){g.Jz.call(this,k);
this.S=this.endscreen=null;this.T={};this.L={};this.D=this.C=null;this.X=[];this.B=null;this.xf=!0;this.W=0;k=k.V();this.K=g.cO(k)||g.fG(k);this.events=new g.ct(this);g.f(this,this.events);this.events.J(this.player,g.Dh("creatorendscreen"),this.onCueRangeEnter);this.events.J(this.player,g.$n("creatorendscreen"),this.onCueRangeExit);this.events.J(this.player,"resize",this.jg);this.events.J(window,"focus",this.h5V);this.load();var n=g.YV("STYLE");(g.pE("HEAD")[0]||document.body).appendChild(n);this.addOnDisposeCallback(function(){g.xV(n)});
n.sheet&&(n.sheet.insertRule(".ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAIVBMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///91E4wTAAAACXRSTlMArBbpVOtYrReN+x2FAAAAAWJLR0QKaND0VgAAACFJREFUCNdjYCAWzIQAFBaZ6hgVYLKcJnBWGEyWvYGASwCXtBf7m4i3CQAAAABJRU5ErkJggg==) no-repeat center;background-size:18px;width:18px;height:18px}",0),n.sheet.insertRule(".ytp-ce-size-853 .ytp-ce-playlist-icon, .ytp-ce-size-1280 .ytp-ce-playlist-icon, .ytp-ce-size-1920 .ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJ1BMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///9RfzIKAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAyBs1FjAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0))},ikW=function(k){return k.player.getVideoData().vr?"current":k.K?"new":"current"},Fm=function(k){return k.player.V().playerStyle==="creator-endscreen-editor"},Jh4=function(k){var n=k.player.getVideoData(),t=n.videoId;
k.S&&k.S.abort();t={method:"POST",onFinish:function(G){var R=k.S=null;G.status===200&&(G=G.responseText,G.substring(0,3)===")]}"&&(G=G.substring(3),R=JSON.parse(G),R=wQ4(R,ikW(k))));PJ(k,R)},
urlParams:{v:t},withCredentials:!0};k.K&&(t.urlParams.ptype="embedded");var d=n.o6;d&&(t.postParams={ad_tracking:d});if(n=g.O5w(n))if(n=g.cQ(n),n=g.PQ(n))k.S=g.hF(n,t)},PJ=function(k,n,t){t=t===void 0?!0:t;
k.player.Vd("creatorendscreen");k.C&&(k.C.dispose(),k.C=null,k.D.dispose(),k.D=null);for(var d=g.y(Object.values(k.T)),G=d.next();!G.done;G=d.next())G.value.dispose();k.T={};k.L={};k.X.length>0&&(k.X.forEach(function(D){D.dispose()}),k.X.length=0);
k.B&&(g.$b(k.B,"ytp-ce-element-show"),k.B.setAttribute("aria-hidden","true"));k.W=0;if((k.endscreen=n)&&n.elements){t&&L7k(k);t=[];d=new g.Yn(n.startMs,0x7ffffffffffff,{id:"ytp-ce-in-endscreen",namespace:"creatorendscreen"});t.push(d);k.player.V().T||(k.C=new g.v({U:"div",Z:"ytp-ce-shadow"}),g.Qn(k.player,k.C.element,4),k.D=new g.G2(k.C,200));for(d=0;d<n.elements.length;++d){G=n.elements[d];var R=bkk(k,G);if(R){k.T[G.id]=R;k.L[G.id]=G;g.Qn(k.player,R.element,4);var O=new g.Yn(G.startMs,G.endMs,{id:"ytp-ce-element-"+
G.id,namespace:"creatorendscreen"});t.push(O);mA_(k,R,G)}else g.ce(new g.gf("buildEndscreenElement null",G))}k.player.Br(t);k.jg()}},L7k=function(k){var n=g.VI(),t=g.A_();
t&&n&&k.endscreen.visualElement&&g.pJ(g.li)(void 0,t,n,k.endscreen.visualElement)},bkk=function(k,n){var t=null;
switch(n.type){case "VIDEO":k={U:"div",yV:["ytp-ce-element","ytp-ce-video"],j:{tabindex:"0","aria-label":n.ym||"","aria-hidden":"true"},Y:[{U:"div",Z:"ytp-ce-element-shadow"},{U:"div",Z:"ytp-ce-covering-image",j:jH(n)},{U:"div",Z:"ytp-ce-covering-shadow-top"},{U:"a",Z:"ytp-ce-covering-overlay",j:{href:rC(k,n.targetUrl),tabindex:"-1"},Y:[{U:"div",yV:["ytp-ce-video-title","ytp-webkit-ellipsis"],j:{dir:g.bU(n.title||"")},Tn:n.title},{U:"div",Z:n.SD?"ytp-ce-live-video-duration":"ytp-ce-video-duration",
Tn:n.videoDuration||void 0}]}]};t=new g.v(k);break;case "PLAYLIST":k={U:"div",yV:["ytp-ce-element","ytp-ce-playlist"],j:{tabindex:"0","aria-label":n.ym||"","aria-hidden":"true"},Y:[{U:"div",Z:"ytp-ce-element-shadow"},{U:"div",Z:"ytp-ce-covering-image",j:jH(n)},{U:"div",Z:"ytp-ce-covering-shadow-top"},{U:"a",Z:"ytp-ce-covering-overlay",j:{href:rC(k,n.targetUrl),tabindex:"-1"},Y:[{U:"div",yV:["ytp-ce-playlist-title","ytp-webkit-ellipsis"],j:{dir:g.bU(n.title||"")},Tn:n.title},{U:"div",Z:"ytp-ce-playlist-count",
Y:[{U:"div",Z:"ytp-ce-playlist-icon"},{U:"div",Z:"ytp-ce-playlist-count-text",Tn:n.playlistLength||void 0}]}]}]};t=new g.v(k);break;case "CHANNEL":t={U:"div",yV:["ytp-ce-element","ytp-ce-channel",n.isSubscribe?"ytp-ce-channel-this":"ytp-ce-channel-that"],j:{tabindex:"0","aria-label":n.ym||"","aria-hidden":"true"},Y:[{U:"div",Z:"ytp-ce-element-shadow"},{U:"div",Z:"ytp-ce-expanding-overlay",Y:[{U:"div",Z:"ytp-ce-expanding-overlay-hider"},{U:"div",Z:"ytp-ce-expanding-overlay-background"},{U:"div",Z:"ytp-ce-expanding-overlay-content",
Y:[{U:"div",Z:"ytp-ce-expanding-overlay-body",Y:[{U:"div",Z:"ytp-ce-expanding-overlay-body-padding",Y:[{U:"a",yV:["ytp-ce-channel-title","ytp-ce-link"],j:{href:rC(k,n.targetUrl),target:"_blank",tabindex:"-1",dir:g.bU(n.title||"")},Tn:n.title},n.subscribeButton?{U:"div",Z:"ytp-ce-subscribe-container",Y:[{U:"div",Z:"ytp-ce-channel-subscribe"}]}:"",n.subscribersText?{U:"div",Z:"ytp-ce-channel-subscribers-text",Tn:n.subscribersText}:"",n.metadata?{U:"div",yV:["ytp-ce-channel-metadata","yt-ui-ellipsis",
"yt-ui-ellipsis-3"],Tn:n.metadata}:""]}]}]}]},{U:"div",Z:"ytp-ce-expanding-image",j:jH(n)}]};t=new g.v(t);var d=g.kV(document,"div","ytp-ce-channel-subscribe",t.element)[0];if(n.subscribeButton&&n.channelId){g.Oo(d,"ytp-ce-subscribe-button");if(k.player.V().T){var G=null;var R=n.sessionData.itct}else G="endscreen",R=null;G=new g.Ca(n.subscribeButton.subscribeText,n.subscribeButton.subscribeCount,n.subscribeButton.unsubscribeText,n.subscribeButton.unsubscribeCount,!!n.subscribeButton.enabled,!!n.subscribeButton.classic,
n.channelId,!!n.subscribeButton.subscribed,G,R,k.player,!1);d.appendChild(G.element);k.X.push(G)}break;case "WEBSITE":k={U:"div",yV:["ytp-ce-element","ytp-ce-website"],j:{tabindex:"0","aria-label":n.ym||"","aria-hidden":"true"},Y:[{U:"div",Z:"ytp-ce-element-shadow"},{U:"div",Z:"ytp-ce-expanding-overlay",Y:[{U:"div",Z:"ytp-ce-expanding-overlay-hider"},{U:"div",Z:"ytp-ce-expanding-overlay-background"},{U:"div",Z:"ytp-ce-expanding-overlay-content",Y:[{U:"div",Z:"ytp-ce-expanding-overlay-body",Y:[{U:"div",
Z:"ytp-ce-expanding-overlay-body-padding",Y:[{U:"div",Z:"ytp-ce-website-title",j:{dir:g.bU(n.title||"")},Tn:n.title},{U:"div",Z:"ytp-ce-website-metadata",Tn:n.metadata},{U:"a",yV:["ytp-ce-website-goto","ytp-ce-link"],j:{href:rC(k,n.targetUrl),target:"_blank",tabindex:"-1"},Tn:n.callToAction}]}]}]}]},{U:"div",Z:"ytp-ce-expanding-image",j:jH(n)},{U:"div",Z:"ytp-ce-expanding-icon",j:yhk(n.iconUrl)}]};t=new g.v(k);break;case "CREATOR_MERCHANDISE":t="",n.productPrice&&(t={U:"div",Z:"ytp-ce-merchandise-price-container",
Y:[{U:"div",Z:"ytp-ce-merchandise-price",Tn:n.productPrice}]},n.additionalFeesText&&t.Y.push({U:"div",Z:"ytp-ce-merchandise-additional-fees",Tn:n.additionalFeesText})),k={U:"div",yV:["ytp-ce-element","ytp-ce-merchandise"],j:{tabindex:"0","aria-label":n.ym||"","aria-hidden":"true"},Y:[{U:"div",Z:"ytp-ce-element-shadow"},{U:"div",Z:"ytp-ce-expanding-overlay",Y:[{U:"div",Z:"ytp-ce-expanding-overlay-hider"},{U:"div",Z:"ytp-ce-expanding-overlay-background"},{U:"div",Z:"ytp-ce-expanding-overlay-content",
Y:[{U:"div",Z:"ytp-ce-expanding-overlay-body",Y:[{U:"div",Z:"ytp-ce-expanding-overlay-body-padding",Y:[{U:"div",Z:"ytp-ce-merchandise-title",j:{dir:g.bU(n.title||"")},Tn:n.title},t,{U:"div",Z:"ytp-ce-merchandise-metadata",Tn:n.metadata},{U:"a",yV:["ytp-ce-merchandise-goto","ytp-ce-link"],j:{href:rC(k,n.targetUrl),target:"_blank",tabindex:"-1"},Tn:n.callToAction}]}]}]}]},{U:"div",Z:"ytp-ce-expanding-image",j:jH(n)},{U:"div",Z:"ytp-ce-merchandise-invideo-cta-container",Y:[{U:"div",Z:"ytp-ce-merchandise-invideo-cta",
Tn:n.callToAction||void 0}]}]},t=new g.v(k)}n.isPlaceholder&&g.Oo(t.element,"ytp-ce-placeholder");return t},jH=function(k){if(k.K6)var n=k.K6.thumbnails;
return yhk(n?n[n.length-1].url:null)},yhk=function(k){return k?{style:"background-image: url("+k+")"}:{}},mA_=function(k,n,t){function d(Z){Z&&(n.listen("blur",function(){Z.style.display!="none"&&k.xf&&Z.focus()}),n.J(Z,"focus",R),n.J(Z,"blur",O))}
function G(Z){k.W+=Z;k.W>0?(g.Oo(n.element,"ytp-ce-force-expand"),cJ(k,t.id,!0)):(g.$b(n.element,"ytp-ce-force-expand"),g.$b(n.element,"ytp-ce-element-hover"),cJ(k,t.id,!1))}
function R(){G(1)}
function O(){G(-1)}
n.listen("mouseenter",function(){sKk(k,n,t)});
n.listen("mouseleave",function(){XQf(k,n,t)});
k.player.V().T||n.listen("click",function(){g.Oo(n.element,"ytp-ce-element-hover")});
n.listen("click",function(Z){Edk(k,t,Z)});
n.listen("keypress",function(Z){Edk(k,t,Z)});
n.listen("focus",function(){sKk(k,n,t)});
n.listen("blur",function(){XQf(k,n,t)});
n.listen("touchstart",function(){sKk(k,n,t)});
var D=g.n9("ytp-ce-expanding-overlay-hider",n.element);D&&n.J(D,"touchstart",function(Z){Z.stopPropagation();g.$b(n.element,"ytp-ce-element-hover");g.$b(n.element,"ytp-ce-force-expand")});
n.listen("keydown",function(Z){k.xf=Z.keyCode===9&&!Z.shiftKey});
d(g.n9("ytp-sb-subscribe",n.element));d(g.n9("ytp-sb-unsubscribe",n.element));n.listen("focus",R);n.listen("blur",O)},Edk=function(k,n,t){if(n.targetUrl&&(!t||t.type!=="keypress"||t.keyCode===13)){for(var d=t.target;d&&!g.Rb(d,"ytp-ce-element");){g.Rb(d,"subscribe-label")&&UAi(k,n);
if(g.Rb(d,"ytp-ce-channel-subscribe"))return;d=d.parentElement||null}if(!d||g.Rb(d,"ytp-ce-element-hover")){t.preventDefault();t.stopPropagation();if(d=k.T[n.id])XQf(k,d,n),d.element.blur();if(t.ctrlKey||t.metaKey||n.Myf==="new")UAi(k,n),k.player.sendVideoStatsEngageEvent(17,void 0),k.player.pauseVideo(),t=g.cQ(rC(k,n.targetUrl)),t=g.PQ(t),g.v9(t,void 0,n.sessionData);else{var G=g.kl(k.player.V())||k.player.getVideoData().vr,R=function(){var O=rC(k,n.targetUrl),D=n.sessionData,Z=n.watchEndpoint,x=
g.OX(O);G&&x&&(x.v||x.list)?k.player.Sa(x.v,D,x.list,!1,void 0,Z||void 0):g.KK(O,D)};
UAi(k,n,function(){k.player.sendVideoStatsEngageEvent(17,R)})}}}},rC=function(k,n){k=k.player.V();
if(n){if(n.startsWith("//"))return k.protocol+":"+n;if(n.startsWith("/"))return g.Yl(k)+n}else return"";return n},sKk=function(k,n,t){g.Rb(n.element,"ytp-ce-element-hover")||(t.type==="VIDEO"||t.type==="PLAYLIST"?g.Oo(n.element,"ytp-ce-element-hover"):k.player.V().T?(new g.CB(function(){g.Oo(n.element,"ytp-ce-element-hover")},200)).start():g.Oo(n.element,"ytp-ce-element-hover"),NC(k,t.z_f),cJ(k,t.id,!0))},XQf=function(k,n,t){g.$b(n.element,"ytp-ce-element-hover");
g.$b(n.element,"ytp-ce-force-expand");cJ(k,t.id,!1)},cJ=function(k,n,t){k.C&&(t?k.D.show():k.D.hide());
for(var d=g.y(Object.keys(k.T)),G=d.next();!G.done;G=d.next())G=G.value,G!==n&&g.xb(k.T[G].element,"ytp-ce-element-shadow-show",t)},NC=function(k,n,t){function d(){R||(G++,G===n.length&&(O.stop(),t&&t()))}
if(!n||n.length===0||Fm(k))t&&t();else{n=BQ9(k,n);var G=0,R=!1,O=new g.CB(function(){R=!0;t&&t()},1E3,k);
O.start();for(k=0;k<n.length;k++)g.aq(n[k],d)}},UAi=function(k,n,t){NC(k,n.clickUrls,t);
(k=g.A_())&&n.qUf&&g.oA(k,n.visualElement)},BQ9=function(k,n){var t=k.player.getVideoData().clientPlaybackNonce;
k=k.player.getCurrentTime().toFixed(2);t={CPN:t,AD_CPN:t,MT:k};k=[];for(var d=0;d<n.length;d++)k.push(I_9(n[d],t));return k},I_9=function(k,n){return k.replace(/%5B[a-zA-Z_:]+%5D|\[[a-zA-Z_:]+\]/g,function(t){var d=unescape(t);
d=d.substring(1,d.length-1);return n[d]?escape(n[d]):t})},hDG=function(k){return typeof k==="string"?k:""},ff=function(k,n,t){for(var d in n)if(n[d]===k)return k;
return t},V_C=function(k,n,t,d){this.value=k;
this.target=n;this.showLinkIcon=t;this.B=d},QY=function(k){return k.value?k.value:null},zk=function(k){if(!k)return null;
var n=g.cQ(hDG(k.value));n=g.PQ(n);if(!n)return null;var t=ff(k.target,AhD,"current");if(t==null)k=null;else{var d=k.show_link_icon;k=new V_C(n,t,d==="true"||d==="false"?d==="true":!0,k.pause_on_navigation!=null?k.pause_on_navigation:!0)}return k},W7K=function(k,n,t){this.type=k;
this.trigger=n;this.url=t},Hk5=function(k){if(!k)return null;
var n=ff(k.type,q5G),t=ff(k.trigger,eDm);k=k.url;k=Array.isArray(k)&&k.length?k[0]:k;k=zk(k?k:null);return n?new W7K(n,t,k):null},F77=function(k,n,t,d,G){this.id=k;
this.type=n;this.style=t;this.data=G;this.action=d||[]},PGf=function(k,n){return g.lf(k.action,n)},jKG=function(k,n){this.context=k;
this.B=n},rh5=function(k){return k.customMessage?az("div","iv-card-message",k.customMessage):""},Kf=function(k,n){k="background-image: url("+k+");";
var t=[];n&&t.push(n);return{U:"div",Z:"iv-card-image",j:{style:k},Y:t}},chk=function(k){if(!k.metaInfo||k.metaInfo.length===0)return"";
var n=[];k=g.y(k.metaInfo);for(var t=k.next();!t.done;t=k.next())n.push(az("li","",t.value));return{U:"ul",Z:"iv-card-meta-info",Y:n}},az=function(k,n,t){n?typeof n==="string"?n={"class":n}:Array.isArray(n)&&(n={"class":n.join(" ")}):n={};
n.dir=g.bU(t);return{U:k,j:n,Tn:t}},NQk=function(k){if(!k.customMessage)return"";
var n=["iv-card-action","iv-card-primary-link"],t={};k.JD&&(n.push("iv-card-action-icon"),t.style="background-image: url("+k.JD+");");t.dir=g.bU(k.customMessage);var d=[{U:"span",Tn:k.customMessage}];k.showLinkIcon&&(d.push("\u00a0"),d.push({U:"span",Z:"iv-card-link-icon"}));return{U:"div",yV:n,j:t,Y:d}},vJ=function(k,n,t,d){if(d){n=g.y(n);
for(var G=n.next();!G.done;G=n.next())k.B(G.value,d,t.id,t.sessionData,t.OB.click,5)}},f_f=function(k,n){this.merchant=k;
this.price=n},QKf=function(k){var n;
(n=k)&&!(n=k.length>1?k.charAt(0)==="/"&&k.charAt(1)!=="/":k==="/")&&(n=k.replace(/^(https?:)?\/\//,"").split("/",1),n=!n||n.length<1||!n[0]?[]:n[0].toLowerCase().split(".").reverse(),n=n[0]==="com"&&n[1]==="youtube"||n[0]==="be"&&n[1]==="youtu");return n?k.indexOf("/redirect?")===-1:!1},zDW=function(k,n){return n?n:QKf(k)?"current":"new"},uc=function(k,n){g.N.call(this);
var t=this;this.element=k;this.context=n;this.Kf=!1;this.IS=new Map;this.t8=new Map;this.context.N.addEventListener(g.Dh("annotations_module"),function(d){(d=t.IS.get(d))&&d.apply(t)});
this.context.N.addEventListener(g.$n("annotations_module"),function(d){(d=t.t8.get(d))&&d.apply(t)})},MC=function(k,n,t,d,G,R,O){k.context.B.listen(n,"click",function(D){k.pk(t,d,G,R||[],O||0,D)});
k.context.B.listen(n,"touchstart",function(){k.Kf=!1});
k.context.B.listen(n,"touchmove",function(){k.Kf=!0})},a_D=function(k){var n;
return((n=g.z(k,g.ND))==null?0:n.url)?g.z(k,g.ND).url:(k=g.z(k,g.tb))&&k.videoId?(n="/watch?v="+k.videoId,k.playlistId&&(n+="&list="+k.playlistId),k.index&&(n+="&index="+k.index),k.startTimeSeconds&&(n+="&t="+k.startTimeSeconds),n):null},gC=function(k,n,t){return{nY:(k.impressionLoggingUrlsV2s||[]).map(function(d){return d.baseUrl||""}),
click:(t.loggingUrls||[]).map(function(d){return d.baseUrl||""}),
close:(n.dismissLoggingUrlsV2s||[]).map(function(d){return d.baseUrl||""}),
KV:(n.impressionLoggingUrlsV2s||[]).map(function(d){return d.baseUrl||""}),
hG:(n.clickLoggingUrlsV2s||[]).map(function(d){return d.baseUrl||""})}},K77=function(k,n,t){uc.call(this,n,t);
var d=this;this.N=k;this.eventId=null;this.NJ=this.kf=this.Le=this.C=this.isInitialized=!1;this.cards=[];this.Hw=this.X=this.uf=this.D=this.J8=this.B=null;this.xf=[];this.RS=this.W=this.x_=this.FX=null;this.L=0;this.Lf=new g.CB(function(){},t.q3.UG?4E3:3E3);
g.f(this,this.Lf);this.h8=new g.CB(function(){});
g.f(this,this.h8);this.Sm=new jKG(t,function(G,R,O,D,Z,x){MC(d,G,R,O,D,Z,x)});
this.K=new g.v({U:"div",Z:"iv-drawer",j:{id:"iv-drawer"},Y:[{U:"div",Z:"iv-drawer-header",j:{"aria-role":"heading"},Y:[{U:"span",Z:"iv-drawer-header-text"},{U:"button",yV:["iv-drawer-close-button","ytp-button"],j:{"aria-label":"Hide cards",tabindex:"0"}}]},{U:"div",Z:"iv-drawer-content"}]});g.f(this,this.K);this.S=this.K.element;this.lf=new g.G2(this.K,330);g.f(this,this.lf);this.QI=g.n9("iv-drawer-header-text",this.S);this.T=g.n9("iv-drawer-content",this.S);this.addCueRange(0,t.videoData.lengthSeconds*
1E3,"",function(){d.Le&&Cf(d,"YOUTUBE_DRAWER_AUTO_OPEN")},function(){(d.Le=d.C)&&lc(d)});
this.EE=new g.ct(this);g.f(this,this.EE);this.N.addEventListener("videodatachange",this.l1.bind(this))},vdm=function(k,n){n=n.data;
n.autoOpenMs&&k.addCueRange(n.autoOpenMs,0x8000000000000,"",function(){Cf(k,"YOUTUBE_DRAWER_AUTO_OPEN")});
n.autoCloseMs&&k.addCueRange(n.autoCloseMs,0x8000000000000,"",function(){lc(k)});
var t=n.headerText;g.TR(k.QI,t);k.X&&k.X.setAttribute("title",t);n.eventId&&(k.eventId=n.eventId);k.FX=g.Im(n.trackingParams);k.W=g.Im(n.closeTrackingParams);k.x_=g.Im(n.iconTrackingParams)},ujf=function(k,n){var t=n.cardId?n.cardId:"cr:"+k.L,d=k.N.V().experiments.gk("enable_error_corrections_infocard_web_client");
if(!n.content&&n.teaser.simpleCardTeaserRenderer&&d){var G=n.teaser.simpleCardTeaserRenderer,R=n.icon?n.icon.infoCardIconRenderer:null;n={id:t,timestamp:k.L,type:"simple",teaserText:g.mk(G.message),teaserDurationMs:Number(n.cueRanges[0].teaserDurationMs),startMs:Number(n.cueRanges[0].startCardActiveMs),autoOpen:!!n.autoOpen,sessionData:{},sponsored:!1,OB:{},Hc:null,wK:G.trackingParams?g.Im(G.trackingParams):null,x_:R&&R.trackingParams?g.Im(R.trackingParams):null,imageUrl:"",displayDomain:null,showLinkIcon:!1,
JD:null,title:"",customMessage:"",url:null,onClickCommand:G.onTapCommand||null};pf(k,n)}else{var O;if((O=n.content)==null?0:O.simpleCardContentRenderer){if(!n.cueRanges.length)return;R=(G=n.content)==null?void 0:G.simpleCardContentRenderer;G=n.teaser.simpleCardTeaserRenderer;var D=n.icon?n.icon.infoCardIconRenderer:null;n={id:t,timestamp:k.L,type:"simple",teaserText:g.mk(G.message),teaserDurationMs:Number(n.cueRanges[0].teaserDurationMs),startMs:Number(n.cueRanges[0].startCardActiveMs),autoOpen:!!n.autoOpen,
sessionData:SH(k,t,n,R),sponsored:!1,OB:gC(R,G,R.command),Hc:R.trackingParams?g.Im(R.trackingParams):null,wK:G.trackingParams?g.Im(G.trackingParams):null,x_:D&&D.trackingParams?g.Im(D.trackingParams):null,imageUrl:kI(R.image.thumbnails,290).url,displayDomain:R.displayDomain?g.mk(R.displayDomain):null,showLinkIcon:!!R.showLinkIcon,JD:null,title:R.title?g.mk(R.title):"",customMessage:R.callToAction?g.mk(R.callToAction):"",url:g.z(R.command,g.ND).url?zk({pause_on_navigation:!k.context.videoData.isLivePlayback,
target:"new",value:g.z(R.command,g.ND).url}):null,onClickCommand:null};pf(k,n)}else{var Z;if((Z=n.content)==null?0:Z.collaboratorInfoCardContentRenderer){if(!n.cueRanges.length)return;G=(R=n.content)==null?void 0:R.collaboratorInfoCardContentRenderer;R=n.teaser.simpleCardTeaserRenderer;D=n.icon?n.icon.infoCardIconRenderer:null;n={id:t,timestamp:k.L,type:"collaborator",teaserText:g.mk(R.message),teaserDurationMs:Number(n.cueRanges[0].teaserDurationMs),startMs:Number(n.cueRanges[0].startCardActiveMs),
autoOpen:!!n.autoOpen,sessionData:SH(k,t,n,G),sponsored:!1,OB:gC(G,R,G.endpoint),Hc:G.trackingParams?g.Im(G.trackingParams):null,wK:R.trackingParams?g.Im(R.trackingParams):null,x_:D&&D.trackingParams?g.Im(D.trackingParams):null,channelId:g.z(G.endpoint,g.Wx).browseId,customMessage:G.customText?g.mk(G.customText):null,profileImageUrl:kI(G.channelAvatar.thumbnails,290).url,title:G.channelName?g.mk(G.channelName):"",metaInfo:[G.subscriberCountText?g.mk(G.subscriberCountText):""],url:zk({pause_on_navigation:!k.context.videoData.isLivePlayback,
target:"new",value:g.z(G.endpoint,g.Wx).canonicalBaseUrl?g.z(G.endpoint,g.Wx).canonicalBaseUrl:"/channel/"+g.z(G.endpoint,g.Wx).browseId}),onClickCommand:null};pf(k,n)}else{var x;if((x=n.content)==null?0:x.playlistInfoCardContentRenderer){if(!n.cueRanges.length)return;G=(D=n.content)==null?void 0:D.playlistInfoCardContentRenderer;R=n.teaser.simpleCardTeaserRenderer;D=n.icon?n.icon.infoCardIconRenderer:null;n={id:t,timestamp:k.L,type:"playlist",teaserText:g.mk(R.message),teaserDurationMs:Number(n.cueRanges[0].teaserDurationMs),
startMs:Number(n.cueRanges[0].startCardActiveMs),autoOpen:!!n.autoOpen,sessionData:SH(k,t,n,G),sponsored:!1,OB:gC(G,R,G.action),Hc:G.trackingParams?g.Im(G.trackingParams):null,wK:R.trackingParams?g.Im(R.trackingParams):null,x_:D&&D.trackingParams?g.Im(D.trackingParams):null,P3:kI(G.playlistThumbnail.thumbnails,258).url,customMessage:G.customMessage?g.mk(G.customMessage):null,playlistVideoCount:g.mk(G.playlistVideoCount),title:G.playlistTitle?g.mk(G.playlistTitle):"",metaInfo:[G.channelName?g.mk(G.channelName):
"",G.videoCountText?g.mk(G.videoCountText):""],url:zk({pause_on_navigation:!k.context.videoData.isLivePlayback,target:"new",value:a_D(G.action)}),onClickCommand:null};pf(k,n)}else{var w;if((w=n.content)==null?0:w.videoInfoCardContentRenderer){if(!n.cueRanges.length)return;var T;G=(T=n.content)==null?void 0:T.videoInfoCardContentRenderer;R=n.teaser.simpleCardTeaserRenderer;D=n.icon?n.icon.infoCardIconRenderer:null;n={id:t,timestamp:k.L,type:"video",teaserText:g.mk(R.message),teaserDurationMs:Number(n.cueRanges[0].teaserDurationMs),
startMs:Number(n.cueRanges[0].startCardActiveMs),autoOpen:!!n.autoOpen,sessionData:SH(k,t,n,G),sponsored:!1,OB:gC(G,R,G.action),Hc:G.trackingParams?g.Im(G.trackingParams):null,wK:R.trackingParams?g.Im(R.trackingParams):null,x_:D&&D.trackingParams?g.Im(D.trackingParams):null,P3:kI(G.videoThumbnail.thumbnails,258).url,videoDuration:G.lengthString?g.mk(G.lengthString):null,customMessage:G.customMessage?g.mk(G.customMessage):null,title:G.videoTitle?g.mk(G.videoTitle):"",metaInfo:[G.channelName?g.mk(G.channelName):
"",G.viewCountText?g.mk(G.viewCountText):""],isLiveNow:!!G.badge,url:zk({pause_on_navigation:!k.context.videoData.isLivePlayback,target:"new",value:a_D(G.action)}),onClickCommand:null};pf(k,n)}}}}}k.L++},kI=function(k,n){for(var t=-1,d=-1,G=0;G<k.length;G++){if(k[G].height===n||k[G].width===290)return k[G];
((k[G].height||0)<n||(k[G].width||0)<290)&&(t<0||(k[t].height||0)<(k[G].height||0)||(k[t].width||0)<(k[G].width||0))?t=G:((k[G].height||0)>=n||(k[G].width||0)>=290)&&(d<0||(k[d].height||0)>(k[G].height||0)||(k[d].width||0)>(k[G].width||0))&&(d=G)}return k[d>=0?d:t]},SH=function(k,n,t,d){return{feature:t.feature?t.feature:"cards",
src_vid:k.context.videoData.videoId,annotation_id:n,ei:k.context.videoData.eventId||"",itct:d.trackingParams||""}},gdO=function(k,n){if(n=M_9(k,n))n===k.B&&(k.B=null),k.N.removeCueRange(n.Kb.id),g.xV(n.AU),g.tN(k.cards,n),k.Tr(),nn(k)},Cf=function(k,n,t){if(!k.C){k.lf.show();
k.J8=new g.CB(function(){g.Oo(k.context.N.getRootNode(),g.gE.IV_DRAWER_OPEN)},0);
k.J8.start();k.EE.J(k.T,"mousewheel",function(O){k.Lf.start();O.preventDefault();O=O||window.event;var D=0;O.type=="MozMousePixelScroll"?D=0==(O.axis==O.HORIZONTAL_AXIS)?O.detail:0:window.opera?D=O.detail:D=O.wheelDelta%120==0?"WebkitTransform"in document.documentElement.style?window.chrome&&navigator.platform.indexOf("Mac")==0?O.wheelDeltaY/-30:O.wheelDeltaY/-1.2:O.wheelDelta/-1.6:O.wheelDeltaY/-3;if(O=D)k.T.scrollTop+=O});
k.C=!0;var d=g.A_();d&&k.FX&&k.W&&g.Op(d,[k.FX,k.W]);n={TRIGGER_TYPE:n};for(var G=g.y(k.cards),R=G.next();!R.done;R=G.next())R=R.value,R.pE||(R.pE=!0,CGm(k.context.logger,R.Kb.OB.nY,n)),d&&g.Op(d,[R.Kb.Hc]);BJ(k.N);t&&(k.D=new g.CB(function(){k.uf=k.X;k.Hw.focus()},330),k.D.start())}},lc=function(k){k.C&&(k.lf.hide(),g.qK(k.EE),g.$b(k.context.N.getRootNode(),g.gE.IV_DRAWER_OPEN),k.C=!1,BJ(k.N),k.D&&k.D.stop(),k.D=new g.CB(function(){k.uf&&(k.uf.focus(),k.uf=null)},330),k.D.start())},l_W=function(k){g.DE(k.FQ(),
[g.gE.STOP_EVENT_PROPAGATION,
"iv-drawer-manager"]);g.Qn(k.N,k.S,5);k.bb();k.X=g.n9("ytp-cards-button",k.N.getRootNode());k.Hw=g.n9("iv-drawer-close-button",k.S);k.isInitialized=!0},pQD=function(k){k.xf.push(g.on("iv-teaser-shown",k.M5,k));
k.xf.push(g.on("iv-teaser-hidden",k.yMc,k));k.xf.push(g.on("iv-teaser-clicked",k.m3,k));k.NJ=!0},S5C=function(k,n){var t;
return n.onClickCommand&&((t=g.z(n.onClickCommand,g.BdO))==null?void 0:t.targetId)==="engagement-panel-error-corrections"?(k.RS=n,!0):!1},k74=function(k,n){k.RS=n;
var t=k.N.getVideoData();if(!t)return!1;t=g.WK(t);if(t==null?0:t.markersMap)for(var d,G=0;((d=t)==null?void 0:d.markersMap.length)>G;G++){var R=void 0,O=(R=t)==null?void 0:R.markersMap[G];if(O.key==="ERROR_CORRECTION_MARKERS"&&(R=void 0,(O=(R=O.value)==null?void 0:R.markers)&&O.length>0))return d=void 0,n.startMs=((d=g.z(O[0],g.$Cj))==null?void 0:d.timeRangeStartMillis)||0,k.RS=null,!0}return!1},pf=function(k,n){if(!S5C(k,n)||k74(k,n)){var t=n8C(k,n);
if(t){var d={Kb:n,AU:t.element,pE:!1};if(n.onClickCommand)k.N.G("web_infocards_teaser_show_logging_fix")&&(k.NJ||pQD(k),gdO(k,n.id),t=k.findLastIndex(d),g.DA(k.cards,t,0,d));else{k.isInitialized||l_W(k);gdO(k,n.id);var G=k.findLastIndex(d);g.DA(k.cards,G,0,d);t.OE(k.T,G);k.Tr()}n.autoOpen?k.addCueRange(n.startMs,0x8000000000000,n.id,function(){k.C||(k.B=d,nn(k),teW(k,d),Cf(k,"YOUTUBE_DRAWER_AUTO_OPEN",!1))}):(t=k.context.N.getCurrentTime()*1E3,t<5E3&&t>n.startMs&&dzk(k,d),k.addCueRange(n.startMs,
n.startMs+1,n.id,function(){dzk(k,d)}),nn(k))}}},n8C=function(k,n){switch(n.type){case "simple":k=k.Sm;
var t=n.displayDomain?{U:"div",Z:"iv-card-image-text",Tn:n.displayDomain}:void 0;var d=NQk(n);t={U:"div",yV:["iv-card"],Y:[{U:"a",Z:"iv-click-target",j:{href:n.url?QY(n.url)||"":""},Y:[Kf(n.imageUrl,t),{U:"div",Z:"iv-card-content",Y:[az("h2",void 0,n.title),d]}]}]};t=new g.v(t);vJ(k,g.Se("iv-click-target",t.element),n,n.url);n=t;break;case "collaborator":k=k.Sm;t={U:"div",yV:["iv-card","iv-card-channel"],Y:[{U:"a",yV:["iv-click-target"],j:{href:QY(n.url)||"","data-ytid":n.channelId},Y:[Kf(n.profileImageUrl),
{U:"div",Z:"iv-card-content",Y:[rh5(n),{U:"h2",Z:"iv-card-primary-link",Tn:n.title},chk(n)]}]}]};t=new g.v(t);vJ(k,g.Se("iv-click-target",t.element),n,n.url);n=t;break;case "playlist":k=k.Sm;t={U:"div",yV:["iv-card","iv-card-playlist"],Y:[{U:"a",Z:"iv-click-target",j:{href:QY(n.url)||""},Y:[Kf(n.P3,{U:"div",Z:"iv-card-image-overlay",Y:[{U:"span",Z:"iv-card-playlist-video-count",Tn:n.playlistVideoCount}]}),{U:"div",Z:"iv-card-content",Y:[rh5(n),az("h2","iv-card-primary-link",n.title),chk(n)]}]}]};
t=new g.v(t);vJ(k,g.Se("iv-click-target",t.element),n,n.url);n=t;break;case "productListing":k=k.Sm;var G=n.offers.length!=0;t=["iv-card"];d="";var R=NQk(n);G&&(t.push("iv-card-product-listing"),d="iv-card-primary-link",R=n.offers[0],G=[],R.price&&G.push({U:"div",Z:"iv-card-offer-price",Tn:R.price}),R.merchant&&G.push({U:"div",Z:"iv-card-offer-merchant",Tn:R.merchant}),R={U:"div",Y:G});G=n.url?QY(n.url)||"":"";t={U:"div",yV:t,j:{tabindex:"0"},Y:[{U:"a",yV:["iv-card-image","iv-click-target"],j:{style:"background-image: url("+
n.imageUrl+");",href:G,"aria-hidden":"true",tabindex:"-1"}},{U:"div",Z:"iv-card-content",Y:[n.sponsored?{U:"div",Z:"iv-card-sponsored",Y:["Sponsored",{U:"div",Z:"iv-ad-info-container",Y:[{U:"div",Z:"iv-ad-info",Tn:"{{adInfo}}"},{U:"div",Z:"iv-ad-info-icon-container",Y:[{U:"div",Z:"iv-ad-info-icon"},{U:"div",Z:"iv-ad-info-callout"}]}]}]}:"",{U:"a",Z:"iv-click-target",j:{href:G},Y:[az("h2",d,n.title),R]}]}]};t=new g.v(t);d=g.YV("span");g.TR(d,"You are seeing this product because we think it is relevant to the video. Google may be compensated by the merchant.");
t.RV(d,"adInfo");vJ(k,g.Se("iv-click-target",t.element),n,n.url);n=t;break;case "video":k=k.Sm;d=n.videoDuration?{U:"span",Z:"iv-card-video-duration",Tn:n.videoDuration}:void 0;R=n.isLiveNow?{U:"span",yV:["yt-badge","yt-badge-live"],Tn:"LIVE NOW"}:null;G={U:"div",yV:["iv-card","iv-card-video"],Y:[{U:"a",Z:"iv-click-target",j:{href:((t=n.url)==null?void 0:QY(t))||""},Y:[Kf(n.P3,d),{U:"div",Z:"iv-card-content",Y:[rh5(n),az("h2","iv-card-primary-link",n.title),chk(n),R]}]}]};t=new g.v(G);vJ(k,g.Se("iv-click-target",
t.element),n,n.url);n=t;break;default:return null}return n},G7K=function(k){if(k.B)return k.B.Kb.type==="productListing";
if(k.N.G("enable_wn_infocards")){var n;return!((n=k.cards)==null||!n.length)&&g.AJ(k.cards,function(t){return t.Kb.type==="productListing"})}return g.AJ(k.cards,function(t){return t.Kb.type==="productListing"})},nn=function(k){g.xb(k.N.getRootNode(),"ytp-cards-shopping-active",G7K(k))},dzk=function(k,n){if(!g.Rb(k.N.getRootNode(),"ytp-cards-teaser-shown")){if(k.B!==n){var t=g.A_(),d=k.B?k.B.Kb.x_:k.x_;
t&&d&&g.Y6(t,[d]);k.B=n;nn(k)}(t=k.isInitialized&&k.FQ().style.display=="none")||(t=k.context.N.getPlayerState(),d=t===0&&k.context.N.getCurrentTime()===0,t=!(t===1||t===3||d));t||n.Kb.teaserDurationMs&&k.N.ST(!0,{teaserText:n.Kb.teaserText,durationMs:n.Kb.teaserDurationMs,onClickCommand:n.Kb.onClickCommand});k.h8.isActive()||((!k.C||!k.Lf.isActive()&&k.kf)&&teW(k,n),k.h8.start(910+n.Kb.teaserDurationMs))}},teW=function(k,n){k.K.xn?(n=new WJ([0,
k.T.scrollTop],[0,n.AU.offsetTop],600,$AO),k.context.C.listen(n,"animate",function(t){k.T.scrollTop=t.y}),k.context.C.listen(n,"finish",function(t){k.T.scrollTop=t.y}),n.play()):(k.K.RJ(!0),k.T.scrollTop=n.AU.offsetTop,k.K.RJ(!1))},t$=function(k){return k.B&&k.B.Kb?k.B.Kb:k.cards[0]&&k.cards[0].Kb?k.cards[0].Kb:null},M_9=function(k,n){return g.lf(k.cards,function(t){return t.Kb.id===n})},dM=function(k,n,t){uc.call(this,k,n);
this.annotation=t;this.isActive=!1},RJ5=function(k){var n=k.annotation.data;
"start_ms"in n&&"end_ms"in n&&k.addCueRange(Number(n.start_ms),Number(n.end_ms),k.annotation.id,function(){k.show()},function(){k.hide()})},GL=function(k,n,t){dM.call(this,k,n,t);
this.T=null;this.W=!1;this.C=null;this.S=!1;this.B=this.L=this.D=null},OE4=function(k,n){var t=t===void 0?0:t;
var d=nd5(n).width;g.b7(n,d);t=new odW(n,[d,n.offsetTop],[d-d-t,n.offsetTop],200,DAG);g.f(k,t);k.context.C.listen(t,"begin",function(){g.BV(n,!0)});
t.play()},DzG=function(k,n){if(n.channel_name){var t=k.createElement({U:"div",
yV:["iv-branding-context-name"],Tn:n.channel_name}),d=k.createElement({U:"div",yV:["iv-branding-context-subscribe"]}),G=n.standalone_subscribe_button_data;G&&(k.B=new g.Ca(G.subscribeText,G.subscribeCount,G.unsubscribeText,G.unsubscribeCount,!!G.enabled,!!G.classic,n.channel_id,!!G.subscribed,G.feature,n.session_data.itct,k.context.N,!1),k.B.OE(d));var R=k.createElement({U:"div",yV:["iv-branding-context-subscribe-caret"]}),O=k.createElement({U:"div",yV:["branding-context-container-inner"]});O.appendChild(R);
O.appendChild(t);O.appendChild(d);g.BV(O,!1);var D=k.createElement({U:"div",yV:["branding-context-container-outer"]});D.appendChild(O);g.Zq(D,"right",n.image_width+"px");g.Db(k.FQ(),D);k.C=new g.CB(function(){Yui(k,O,D)},500);
g.f(k,k.C);k.context.B.listen(k.FQ(),"mouseover",function(){o8f(k,O,D,R,n.image_height)});
k.context.B.listen(k.FQ(),"mouseout",function(){k.C.start()})}},o8f=function(k,n,t,d,G){k.C.stop();
if(!k.S){var R=g.Ur(n);k.B||(n.style.width=g.JH(R.width,!0),t.style.width=g.JH(R.width,!0));g.Zq(d,"top",R.height-Math.max(Math.min(R.height,G)/2+10,20)+"px");g.Zq(d,"right","1px");k.S=!0;g.BV(n,!0);k.D=new g.CB(function(){g.Oo(this.FQ(),"iv-branding-active")},0,k);
k.D.start()}},Yui=function(k,n,t){g.$b(k.FQ(),"iv-branding-active");
k.L=new g.CB(function(){g.BV(n,!1);k.B||(t.style.width=g.JH(0,!0))},250);
k.L.start();k.S=!1},$zC=function(k,n,t,d,G,R,O){this.B=k;
this.C=n;this.q3=t;this.videoData=d;this.logger=G;this.N=R;this.T=O},ZEG=function(k,n,t){dM.call(this,k,n,t);
var d=this;this.X=this.isCollapsed=this.K=!1;this.L=5E3;this.T=this.C=this.B=this.S=null;this.W=this.createElement({U:"div",yV:["iv-promo-contents"]});this.D=new g.CB(function(){d.B.setAttribute("aria-hidden","true");g.BV(d.C,!1);g.BV(d.T,!0)},700,this);
g.f(this,this.D)},wl5=function(k){var n=k.annotation.data;
if(k.annotation.style==="cta")var t=6;else if(k.annotation.style==="video"||k.annotation.style==="playlist")t=7;k.L=n.collapsedelay_ms||k.L;var d=["iv-promo","iv-promo-inactive"];k.FQ().setAttribute("aria-hidden","true");k.FQ().setAttribute("aria-label","Promotion");k.FQ().tabIndex=0;var G=k.annotation.sI(),R=n.image_url;if(R){var O=k.createElement({U:"div",yV:["iv-promo-img","iv-click-target"]});R=k.createElement({U:"img",j:{src:R,"aria-hidden":"true"}});O.appendChild(R);n.video_duration&&!n.is_live?
(R=k.createElement({U:"span",Z:"iv-promo-video-duration",Tn:n.video_duration}),O.appendChild(R)):n.playlist_length&&(R=k.createElement({U:"span",Z:"iv-promo-playlist-length",Tn:n.playlist_length.toString()}),O.appendChild(R));G&&MC(k,O,G,k.annotation.id,n.session_data,void 0,t)}G?(R=k.createElement({U:"a",Z:"iv-promo-txt"}),g.fk(R,QY(G)),k.B=R):k.B=k.createElement({U:"div",Z:"iv-promo-txt"});switch(k.annotation.style){case "cta":case "website":var D=k.createElement({U:"p",Y:[{U:"strong",Tn:n.text_line_1}]});
var Z=k.createElement({U:"p",Y:[{U:"span",Z:"iv-promo-link",Tn:n.text_line_2}]});if(R=n.text_line_3){d.push("iv-promo-website-card-cta-redesign");var x=k.createElement({U:"button",yV:["iv-promo-round-expand-icon","ytp-button"]});R=k.createElement({U:"button",yV:["iv-button","iv-promo-button"],Y:[{U:"span",Z:"iv-button-content",Tn:R}]});var w=k.createElement({U:"div",Z:"iv-promo-button-container"});w.appendChild(R);G&&MC(k,k.FQ(),G,k.annotation.id,n.session_data,void 0,t)}g.Oo(k.B,"iv-click-target");
G&&MC(k,k.B,G,k.annotation.id,n.session_data,void 0,t);break;case "playlist":case "video":D=k.createElement({U:"p",Y:[{U:"span",Tn:n.text_line_1}]}),Z=k.createElement({U:"p",Y:[{U:"strong",Tn:n.text_line_2}]}),n.is_live&&(D=Z,Z=k.createElement({U:"span",yV:["yt-badge","iv-promo-badge-live"],Tn:"LIVE NOW"})),g.Oo(k.B,"iv-click-target"),G&&MC(k,k.B,G,k.annotation.id,n.session_data,void 0,t),d.push("iv-promo-video")}D&&k.B.appendChild(D);Z&&k.B.appendChild(Z);k.W.appendChild(k.B);w&&k.W.appendChild(w);
t=k.createElement({U:"div",Z:"iv-promo-actions"});k.T=k.createElement({U:"button",yV:["iv-promo-expand","ytp-button"]});k.T.title="Expand";k.context.B.listen(k.T,"click",function(T){xz4(k,5E3,T)});
t.appendChild(k.T);g.BV(k.T,!1);k.context.B.listen(k.FQ(),"mouseover",k.D3H,k);k.context.B.listen(k.FQ(),"mouseout",k.Off,k);k.context.B.listen(k.FQ(),"touchend",function(T){xz4(k,5E3,T)});
k.C=k.createElement({U:"button",yV:["iv-promo-close","ytp-button"]});k.C.title="Close";k.context.B.listen(k.C,"click",k.annotation.style==="cta"&&n.text_line_3?k.U3f:k.e_E,k);t.appendChild(k.C);g.DE(k.FQ(),d);O&&(g.Db(k.FQ(),O),x&&O.appendChild(x));g.Db(k.FQ(),k.W);g.Db(k.FQ(),t)},xz4=function(k,n,t){t.stopPropagation();
Tz4(k);iE5(k,n);k.B.focus()},J64=function(k){k.isCollapsed||k.X||k.S||(g.Oo(k.FQ(),"iv-promo-collapsed"),k.isCollapsed=!0,k.D.start())},Tz4=function(k){k.D.stop();
k.isCollapsed&&(g.ZE(k.FQ(),["iv-promo-collapsed","iv-promo-collapsed-no-delay"]),k.isCollapsed=!1,k.B&&k.B.removeAttribute("aria-hidden"),g.BV(k.T,!1),g.BV(k.C,!0))},iE5=function(k,n){k.S||(k.S=g.HG(function(){LTm(this);
J64(this)},n,k))},LTm=function(k){k.S&&(g.Qq.clearTimeout(k.S),k.S=null)},bEG=function(k){this.N=k},CGm=function(k,n,t){n&&(t?Rj(k,n.map(function(d){return g.AK(d,t)})):Rj(k,n))},Rj=function(k,n,t,d){var G=1,R=void 0,O=-1;
if(t){var D=!1;R=function(){G--;G||D||(clearTimeout(O),D=!0,t())};
O=setTimeout(function(){D=!0;t()},1E3)}n=g.y(n||[]);
for(var Z=n.next();!Z.done;Z=n.next())Z=Z.value,G++,g.aq(Z,R);d&&(G++,d!==0&&k.N.sendVideoStatsEngageEvent(d,R))},mzm=function(k){g.Jz.call(this,k);
var n=this;this.xf=this.X=!1;this.loadNumber=0;this.L={};this.logger=new bEG(this.player);this.S=new g.ct(this);this.D=this.W=null;this.events=new g.ct(this);this.EO=this.K=this.B=null;this.RS=[];g.f(this,this.S);this.S.J(this.player,"onVideoAreaChange",function(){n.publish("onVideoAreaChange")});
this.S.J(this.player,"onHideControls",function(){n.publish("onHideControls")});
this.S.J(this.player,"onShowControls",function(){n.publish("onShowControls")});
this.S.J(this.player,"resize",function(d){n.publish("resize",d)});
this.S.J(this.player,"presentingplayerstatechange",function(d){n.publish("presentingplayerstatechange",d)});
this.subscribe("presentingplayerstatechange",this.Y9,this);this.subscribe("resize",this.D6,this);this.player.V().uf.subscribe("vast_info_card_add",this.TW,this);g.f(this,this.events);this.Sm=this.createElement({U:"div",Z:"video-custom-annotations"});this.T=new g.v({U:"div",yV:["ytp-player-content","ytp-iv-player-content"]});g.f(this,this.T);g.Qn(this.player,this.T.element,4);this.T.hide();this.C=new g.v({U:"div",yV:["ytp-iv-video-content"]});g.f(this,this.C);k=this.createElement({U:"div",Z:"video-annotations"});
k.appendChild(this.Sm);this.C.element.appendChild(k);this.yX()&&this.load();var t=this.createElement({U:"style"});(g.pE("HEAD")[0]||document.body).appendChild(t);this.addOnDisposeCallback(function(){g.xV(t)});
if(k=t.sheet)k.insertRule(".iv-promo .iv-promo-contents .iv-promo-txt .iv-promo-link:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAHlBMVEVMaXH////////////////////////////////////Z6AnKAAAACXRSTlMA+/A2IuI1mJIldm0CAAAAAWJLR0QB/wIt3gAAAEVJREFUCNdjYGCYCQUMBJlACOIzIDElIcyZkwxgojOVWWDMSQauMKYySySUOSnBdSaUOZ0lEsac2YqwYiZ+JhwgM7E5HACgzVCI/YJ59AAAAABJRU5ErkJggg==) no-repeat center;background-size:10px;width:10px;height:10px}",
0),k.insertRule(".iv-promo .iv-promo-actions .iv-promo-close:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAVaQDpaimqQbl5rjXUFUAAAABYktHRAH/Ai3eAAAAPUlEQVQI12MQMmAwEmDwDmaOTmAw39663YCBuXp2MQMDQ+fOBgYG5ujVwQwMptvbgeLaxczVCQwiBgxmAgBkXg1FN5iwiAAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",
0),k.insertRule(".iv-promo .iv-promo-actions .iv-promo-expand:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAJBAMAAADnQZCTAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXHMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMz////eMKB4AAAAC3RSTlMAOpE7k5Uvj5kpfRaQSaQAAAABYktHRAsf18TAAAAAHklEQVQI12MQYGBQZmBwTWCo0GSo6AKRQDZQRIABADXXA/UkIpvtAAAAAElFTkSuQmCC) no-repeat center;background-size:4px 9px;width:4px;height:9px}",0),k.insertRule(".iv-promo-website-card-cta-redesign .iv-promo-round-expand-icon:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfgCgUUEztsNfqrAAAAXklEQVRYw+3Uuw2AQAwEUUNXfBpDIvBRMhQwJJAScNrA0r4CdiQHjjAzK4NGKucPAFmCnZcmwcTphBNO9CTGH4VB+/Zm6YlYis9fhedXz38FNvFriCCl808iw8ysrBu65gCeuV/CfgAAAABJRU5ErkJggg==) no-repeat center;background-size:18px 18px;width:18px;height:18px}",
0),k.insertRule(".iv-card-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEVMaXG7u7u7u7u7u7u7u7u7u7u7u7v///+WKTAlAAAABnRSTlMAFdQWbGj9GiOuAAAAAWJLR0QHFmGI6wAAAEhJREFUCNdjYACBNCBgQGMxMKrBWEJJaRAJRjVlKEsoSQDIAqtSZICwgEIQFkgIZBRECMxiBqsCsVjAqsCygQwwFgMeFgQgswBg2xjLrfC4mgAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",0),k.insertRule(".iv-card-playlist-video-count:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAH/Ai3eAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0),k.insertRule(".iv-drawer-close-button:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAgMAAAArG7R0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEVMaXH////////OZTV/AAAAAnRSTlMAoKBFbtAAAAABYktHRAH/Ai3eAAAAKUlEQVQI12MIYGBlSGGQBMIUBjbHCQyM0xwYGDIZwBjEBomB5EBqgGoBolQGzYuy51cAAAAASUVORK5CYII=) no-repeat center;background-size:12px;width:12px;height:12px}",0),k.insertRule(".iv-ad-info-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAMAAACecocUAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAVFBMVEVMaXGUlJSYmJiZmZmYmJiXl5eZmZmZmZmWlpaVlZWOjo6ZmZmSkpKXl5eYmJiYmJiZmZmZmZmZmZmZmZmYmJiJiYmXl5eZmZmYmJiWlpaZmZn///+81lbeAAAAGnRSTlMAE5DM80DliTMMEjccWIM5p1UjaTQNgB5cLlr5mgUAAAABYktHRBsCYNSkAAAAVElEQVQI102NRw7AIBADhw7ppIf/PzQLJ/ZgWSNrFlDaWKMVcs6HmGLwTqjEME6CFDrAXBYIGhNh3TJEg02wHydctvFc7sbrvnXZV8/zfs3T+7u/P7CrAso35YfPAAAAAElFTkSuQmCC) no-repeat center;background-size:11px;width:11px;height:11px}",
0),k.insertRule(".annotation-close-button {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAALVBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz9aWloBAQGZmZlbW1v///+X9wUzAAAACHRSTlMANprf+g6lyRmB9hUAAAABYktHRA5vvTBPAAAAWUlEQVQI12NgYBAycVZkAIKwDiBIZWBgrQAx2gMY2DrAIIFBomPWju6VHY0MGh1rbu891dHEYNGx9+yd2x3NDB4d3XfO7uhoQTDgUnDFcO1wA+FWwC2FOQMAdKg6tUSAFEAAAAAASUVORK5CYII=) no-repeat center}",0),k.insertRule(".annotation-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAMAAAANmfvwAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUVBMVEVMaXH////////////////////////////////////////////////////////////////////////////////////////////////////////JzkR1AAAAGnRSTlMAfXf+c3xsdGdv/GJoXPtXXflSVk5L7DBH9VeFfsQAAAABYktHRAH/Ai3eAAAAgElEQVQ4y93SSQ6AIAwFULSOOOJs739Qf9SF0VA2uNCu+psHaQJK7cVCqY+Rg92PXA++Q84KnCR03UIRJrFEKMEgZYFQhpyzQHSBWJJAdIVUENtJ3SC0mu3EdOh7zXZiBrRdzQLJ0Y1GfOlpVstD3HaZktX9X/gvRCxvxL6FR7IBS1RTM5xIpLoAAAAASUVORK5CYII=) no-repeat center}",
0)},y6W=function(k){k=k.createElement({U:"div",
yV:["annotation","annotation-type-custom"]});g.BV(k,!1);return k},s95=function(k,n){n=!n.isCued()&&!g.u(n,1024);
k.T.RJ(n);k.C.RJ(n)},Xl9=function(k,n,t){k.X=!0;
k.D=g.hF(n,t)},E8m=function(k,n){for(var t={},d=g.y(n.attributes),G=d.next();!G.done;G=d.next())G=G.value,t[G.name]=G.nodeValue;
for(d=0;d<n.childNodes.length;d++)if(G=n.childNodes[d],g.Cw(G)&&G.nodeType==1){if(t[G.tagName])var R=t[G.tagName];else if(G.tagName==="data"){G.childNodes.length>0&&(R=G.childNodes[0].nodeValue,t[G.tagName]=typeof R==="string"?R.trim():R);continue}else R=[],t[G.tagName]=R;G&&G.tagName==="TEXT"?G.childNodes.length===1&&G.childNodes[0].nodeType===3?R.push(G.childNodes[0].nodeValue):R.push(""):G&&R.push(E8m(k,G))}return t},hJO=function(k){var n=k.player.getVideoData();
if(n.lf){var t=k.player.V().uf.get(n.videoId);if(t){var d={format:"XML",urlParams:{},method:"POST",withCredentials:!0,onFinish:function(G,R,O){G=k.loadNumber;R=n.videoId;k.loaded&&k.loadNumber===G&&k.player.getVideoData().videoId===R&&(O=g.JF(O)&&O.responseXML?O.responseXML:null)&&Uzf(k,O)}};
g.d2()&&(d.onFinish=Bzk(k,d.onFinish));d.postParams={ic_only:"1"};IYk(d,t);k.X=!0;g.hF(n.lf,d)}}},IYk=function(k,n){k.method="POST";
k.postParams=k.postParams||{};n.UP&&(k.postParams.ic_coll=n.UP);n.m2&&(k.postParams.ic_xml=n.m2);n.Ku&&(k.postParams.ic_track=n.Ku)},Ve9=function(k){var n=new g.v({U:"div"});
g.BV(n.element,!1);var t=new K77(k.player,n.element,Oc(k));g.f(t,n);n.OE(k.T.element);t.Tb();return t},WTi=function(k,n){var t,d;
if(n=(t=n.getWatchNextResponse())==null?void 0:(d=t.cards)==null?void 0:d.cardCollectionRenderer)k.xf=!0,A6D(k,n),n.headerText&&k.EO&&(t=g.mk(n.headerText),k.EO.setAttribute("title",t))},Oc=function(k){if(!k.K){var n=new Zkm(k);
g.f(k,n);var t=new g.Pc(k);g.f(k,t);k.K=new $zC(n,t,k.player.V(),k.player.getVideoData(),k.logger,k.player,k.My)}return k.K},Uzf=function(k,n){var t=!1,d=n.getElementsByTagName("annotations");
if(d&&!(d.length<1)&&(d=d[0].getAttribute("itct"))){var G=g.A_();if(G){var R=g.VI();R&&g.pJ(g.CA)(void 0,G,R,[g.Im(d)])}}n=n.getElementsByTagName("annotation");for(d=0;d<n.length;d++){R=E8m(k,n[d]);G=null;try{if(R){var O=R.id,D=/.+/;var Z=typeof O==="string"&&D!=null&&O!=null&&O.match(D)?O:"";var x=ff(R.type,quD),w=ff(R.style,eJi),T=hDG(R.data),J=T.length!==0?JSON.parse(T):{};var L=R.action;R=Hk5;if(L==null)var b=null;else if(g.gx(L)){D=[];for(var E=g.y(L),B=E.next();!B.done;B=E.next()){var h=R(B.value);
h&&D.push(h)}b=D}else{var W=R(L);b=W?[W]:[]}G=Z&&x?new F77(Z,x,w,b,J):null}else G=null}catch(Gb){}if(G)if(G.type==="branding"||G.type==="promotion"){R=k;D=G;var e=y6W(R),P=null;switch(D.type){case "branding":if(R.player.V().rI)break;R.T.element.appendChild(e);P=new GL(e,Oc(R),D);break;case "promotion":g.Qn(R.player,e,4),P=new ZEG(e,Oc(R),D)}P&&P.Tb();if(R=P)g.f(k,R),k.L[G.id]=R}else if(G.type==="card"||G.type==="drawer"){k.B||(k.B=Ve9(k),g.f(k,k.B));if(G.type==="card"){e=k.B;var Q=(t=G)&&t.data&&
t.data.card_type;G=t.data;if(Q)switch(R=G.tracking||{},R={nY:R.impression,click:R.click,close:R.close,KV:R.teaser_impression,hG:R.teaser_click},D=G.tracking_params||{},P=null,Q){case "collaborator":t={id:t.id,timestamp:G.timestamp||0,type:G.card_type,teaserText:G.teaser_text,teaserDurationMs:G.teaser_duration_ms,startMs:G.start_ms,autoOpen:G.auto_open||!1,sessionData:G.session_data||{},sponsored:G.sponsored||!1,OB:R,Hc:D.card?g.Im(D.card):null,wK:D.teaser?g.Im(D.teaser):null,x_:D.icon?g.Im(D.icon):
null,channelId:G.channel_id,customMessage:G.custom_message?G.custom_message:null,profileImageUrl:G.image_url,title:G.title,metaInfo:G.meta_info,url:zk({pause_on_navigation:G.pause_on_navigation,target:G.target||"new",value:G.url}),onClickCommand:null};pf(e,t);break;case "playlist":t={id:t.id,timestamp:G.timestamp||0,type:G.card_type,teaserText:G.teaser_text,teaserDurationMs:G.teaser_duration_ms,startMs:G.start_ms,autoOpen:G.auto_open||!1,sessionData:G.session_data||{},sponsored:G.sponsored||!1,OB:R,
Hc:D.card?g.Im(D.card):null,wK:D.teaser?g.Im(D.teaser):null,x_:D.icon?g.Im(D.icon):null,P3:G.image_url,playlistVideoCount:G.playlist_video_count,customMessage:G.custom_message?G.custom_message:null,title:G.title,metaInfo:G.meta_info,url:zk({pause_on_navigation:G.pause_on_navigation,target:G.target||"new",value:G.url}),onClickCommand:null};pf(e,t);break;case "productListing":G.signin_url&&(P=zk({target:"current",value:G.signin_url}));Q=[];for(var k$=G.offers||[],M=0;M<k$.length;M++)Q.push(new f_f(g.R9(k$[M].merchant),
g.R9(k$[M].price)));t={id:t.id,timestamp:G.timestamp||0,type:G.card_type,teaserText:G.teaser_text,teaserDurationMs:G.teaser_duration_ms,startMs:G.start_ms,autoOpen:G.auto_open||!1,sessionData:G.session_data||{},sponsored:G.sponsored||!1,OB:R,Hc:D.card?g.Im(D.card):null,wK:D.teaser?g.Im(D.teaser):null,x_:D.icon?g.Im(D.icon):null,imageUrl:G.image_url,displayDomain:G.display_domain?G.display_domain:null,showLinkIcon:!!G.show_link_icon,JD:G.button_icon_url?G.button_icon_url:null,title:G.title,customMessage:G.custom_message?
G.custom_message:null,url:zk({pause_on_navigation:G.pause_on_navigation,target:G.target||"new",value:G.url}),TDH:P,BDV:G.signin_title?G.signin_title:void 0,RTX:G.signin_message?G.signin_message:void 0,offers:Q,onClickCommand:null};pf(e,t);break;case "simple":t={id:t.id,timestamp:G.timestamp||0,type:G.card_type,teaserText:G.teaser_text,teaserDurationMs:G.teaser_duration_ms,startMs:G.start_ms,autoOpen:G.auto_open||!1,sessionData:G.session_data||{},sponsored:G.sponsored||!1,OB:R,Hc:D.card?g.Im(D.card):
null,wK:D.teaser?g.Im(D.teaser):null,x_:D.icon?g.Im(D.icon):null,imageUrl:G.image_url,displayDomain:G.display_domain?G.display_domain:null,showLinkIcon:!!G.show_link_icon,JD:G.button_icon_url?G.button_icon_url:null,title:G.title,customMessage:G.custom_message?G.custom_message:null,url:zk({pause_on_navigation:G.pause_on_navigation,target:G.target||"new",value:G.url}),onClickCommand:null};pf(e,t);break;case "video":t={id:t.id,timestamp:G.timestamp||0,type:G.card_type,teaserText:G.teaser_text,teaserDurationMs:G.teaser_duration_ms,
startMs:G.start_ms,autoOpen:G.auto_open||!1,sessionData:G.session_data||{},sponsored:G.sponsored||!1,OB:R,Hc:D.card?g.Im(D.card):null,wK:D.teaser?g.Im(D.teaser):null,x_:D.icon?g.Im(D.icon):null,P3:G.image_url,videoDuration:G.video_duration||null,customMessage:G.custom_message?G.custom_message:null,title:G.title,metaInfo:G.meta_info,isLiveNow:!!G.is_live_now,url:zk({pause_on_navigation:G.pause_on_navigation,target:G.target||"new",value:G.url}),onClickCommand:null},pf(e,t)}}else vdm(k.B,G);t=!0}}t&&
(BJ(k.player),k.D6())},A6D=function(k,n){var t=!1;
k.B||(k.B=Ve9(k),g.f(k,k.B));for(var d=g.y(n.cards||[]),G=d.next();!G.done;G=d.next())G=G.value,G.cardRenderer&&(ujf(k.B,G.cardRenderer),t=!0);if(t){var R;(R=k.player.getVideoData())!=null&&g.rt(R)||(t=k.B,d=n.headerText?g.mk(n.headerText):"",g.TR(t.QI,d),t.X&&t.X.setAttribute("title",d),t.context.videoData.eventId&&(t.eventId=t.context.videoData.eventId),t.FX=n.trackingParams?g.Im(n.trackingParams):null,t.W=n.closeButton.infoCardIconRenderer.trackingParams?g.Im(n.closeButton.infoCardIconRenderer.trackingParams):
null,t.x_=n.icon.infoCardIconRenderer.trackingParams?g.Im(n.icon.infoCardIconRenderer.trackingParams):null,k.D6());BJ(k.player)}},HED=function(k,n,t,d,G){if(!k.player.V().rI){var R=[];
n.navigationEndpoint&&g.z(n.navigationEndpoint,g.Wx)&&g.z(n.navigationEndpoint,g.Wx).browseId&&R.push(new W7K("openUrl","click",new V_C("/channel/"+g.z(n.navigationEndpoint,g.Wx).browseId,"new",!0,!0)));var O=n.watermark.thumbnails[0];d={channel_name:n.channelName,end_ms:n.endTimeMs,image_height:O.height,image_type:1,image_url:O.url,image_width:O.width,is_mobile:!1,session_data:{annotation_id:t,ei:G,feature:"iv",itct:n.trackingParams,src_vid:d},start_ms:n.startTimeMs};if(n.subscribeButton&&g.z(n.subscribeButton,
g.qr)){d.channel_id=g.z(n.subscribeButton,g.qr).channelId;var D;n=g.z(n.subscribeButton,g.qr);O=G=null;n.subscribed?(n.subscriberCountWithUnsubscribeText&&(G=g.mk(n.subscriberCountWithUnsubscribeText)),n.subscriberCountText&&(O=g.mk(n.subscriberCountText))):(n.subscriberCountText&&(G=g.mk(n.subscriberCountText)),n.subscriberCountWithSubscribeText&&(O=g.mk(n.subscriberCountWithSubscribeText)));var Z,x=((Z=g.z((D=n.signInEndpoint)==null?void 0:D.commandMetadata,g.b5))==null?void 0:Z.url)||"";D={subscribeText:g.mk(n.unsubscribedButtonText),
subscribeCount:G||"",unsubscribeText:g.mk(n.subscribedButtonText),unsubscribeCount:O||"",enabled:n.enabled||!1,classic:!1,subscribed:n.subscribed||!1,feature:"iv",signInUrl:x};d.standalone_subscribe_button_data=D}R=new F77(t,"branding","branding",R,d);D=y6W(k);k.T.element.appendChild(D);R=new GL(D,Oc(k),R);R.Tb();g.f(R,R);k.L[t]=R}},Bzk=function(k,n){return function(){var t=g.e7.apply(0,arguments);
k.Ww()||k.RS.push(g.zt.HE(function(){n.apply(null,g.U(t))}))}},FTO=function(k){return k==="annotation-editor"||k==="live-dashboard"};
g.HN.prototype.ST=g.$$(45,function(k,n){var t=g.Wy(this.eg());t&&t.ST(k,n)});
var hn={},VY=null;g.R5(WJ,g.wH);g.Y=WJ.prototype;g.Y.getDuration=function(){return this.duration};
g.Y.play=function(k){if(k||this.B==0)this.progress=0,this.coords=this.T;else if(this.isPlaying())return!1;An(this);this.startTime=k=g.d4();this.isPaused()&&(this.startTime-=this.duration*this.progress);this.endTime=this.startTime+this.duration;this.S=this.startTime;this.progress||this.xj();this.pU("play");this.isPaused()&&this.pU("resume");this.B=1;var n=g.S7(this);n in hn||(hn[n]=this);GNi();RDD(this,k);return!0};
g.Y.stop=function(k){An(this);this.B=0;k&&(this.progress=1);OkK(this,this.progress);this.onStop();this.cL()};
g.Y.pause=function(){this.isPlaying()&&(An(this),this.B=-1,this.pU("pause"))};
g.Y.Cf=function(){this.B==0||this.stop(!1);this.pU("destroy");WJ.Nv.Cf.call(this)};
g.Y.destroy=function(){this.dispose()};
g.Y.dC=function(){this.pU("animate")};
g.Y.pU=function(k){this.dispatchEvent(new Y5W(k,this))};
g.R5(Y5W,g.zR);g.R5(qC,WJ);qC.prototype.C=function(){};
qC.prototype.dC=function(){this.C();qC.Nv.dC.call(this)};
qC.prototype.cL=function(){this.C();qC.Nv.cL.call(this)};
qC.prototype.xj=function(){this.C();qC.Nv.xj.call(this)};
g.R5(odW,qC);odW.prototype.C=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};g.m(Zkm,g.N);g.Y=Zkm.prototype;g.Y.listen=function(k,n,t,d){t=(0,g.kC)(t,d||this.T);k=g.Ue(k,n,t);this.B.push(k);return k};
g.Y.nP=function(k,n,t,d){t=(0,g.kC)(t,d||this.T);k=t_i(k,n,t);this.B.push(k);return k};
g.Y.DB=function(k){g.BP(k);g.tN(this.B,k)};
g.Y.removeAll=function(){g.BP(this.B);this.B.length=0};
g.Y.Cf=function(){this.removeAll();g.N.prototype.Cf.call(this)};g.m(TQ5,g.Jz);g.Y=TQ5.prototype;g.Y.load=function(){g.Jz.prototype.load.call(this);if(!Fm(this)){var k=g.YYx(this.player.getVideoData());k?(k=wQ4(k,ikW(this)),PJ(this,k,!1)):Jh4(this)}};
g.Y.unload=function(){PJ(this,null);this.S&&(this.S.abort(),this.S=null);g.Jz.prototype.unload.call(this)};
g.Y.Dw=function(k,n){return Fm(this)?k==="loadCustomEndscreenRenderer"?(k=wQ4(n,"new"),PJ(this,k),!0):null:null};
g.Y.getOptions=function(){return Fm(this)?["loadCustomEndscreenRenderer"]:[]};
g.Y.jg=function(){if(this.endscreen&&this.endscreen.elements){var k=this.player.getVideoContentRect();if(k&&k.width!==0&&k.height!==0){var n=this.player.getPlayerSize();if(n&&n.width!==0&&n.height!==0){var t=k.width/k.height;var d=0;for(var G=-1,R=0;R<PX9.length;R++){var O=Math.abs(n.width-PX9[R]);if(G===-1||d>=O)G=R,d=O}d=j95[G];this.C&&g.Zq(this.C.element,"outline-width",Math.max(n.width,n.height)+"px");for(n=0;n<this.endscreen.elements.length;++n)if(R=this.endscreen.elements[n].id,G=this.T[R],
O=this.L[R],G&&O){var D=O.width*t/O.aspectRatio,Z=Math.round(O.width*k.width);R=Math.round(D*k.height);var x=k.left+Math.round(O.left*k.width),w=k.top+Math.round(O.top*k.height);g.Er(G.element,Z,R);g.b7(G.element,x,w);g.ZE(G.element,r69);Z>256||R>256?g.Oo(G.element,"ytp-ce-large-round"):Z>96||R>96?g.Oo(G.element,"ytp-ce-medium-round"):g.Oo(G.element,"ytp-ce-small-round");g.ZE(G.element,c6W);Z=O.left+O.width/2;O=O.top+D/2;g.Oo(G.element,Z<=.5&&O<=.5?"ytp-ce-top-left-quad":Z>.5&&O<=.5?"ytp-ce-top-right-quad":
Z<=.5&&O>.5?"ytp-ce-bottom-left-quad":"ytp-ce-bottom-right-quad");g.ZE(G.element,j95);g.Oo(G.element,d);(G=g.kV(document,"div","ytp-ce-expanding-overlay-body",G.element)[0])&&g.Zq(G,"height",R+"px")}}}}};
g.Y.onCueRangeEnter=function(k){if(this.endscreen)if(k.getId()==="ytp-ce-in-endscreen")NC(this,this.endscreen.impressionUrls),(k=g.A_())&&this.endscreen.visualElement&&g.RA(k,this.endscreen.visualElement),this.B&&(g.Oo(this.B,"ytp-ce-element-show"),this.B.removeAttribute("aria-hidden"),this.player.OG()?g.Oo(this.B,"ytp-ce-hide-button-lower"):g.$b(this.B,"ytp-ce-hide-button-lower"));else{k=k.getId().substring(15);var n=this.T[k],t=this.L[k];g.Oo(n.element,"ytp-ce-element-show");n.element.removeAttribute("aria-hidden");
n=this.player.getRootNode();g.Oo(n,"ytp-ce-shown");NC(this,t.impressionUrls);(n=g.A_())&&g.RA(n,t.visualElement);this.player.V().W&&this.player.A8("endscreenelementshown",k)}};
g.Y.onCueRangeExit=function(k){if(k.getId()==="ytp-ce-in-endscreen")this.B&&(g.$b(this.B,"ytp-ce-element-show"),this.B.setAttribute("aria-hidden","true"));else{k=k.getId().substring(15);var n=this.T[k];g.$b(n.element,"ytp-ce-element-show");n.element.setAttribute("aria-hidden","true");n=this.player.getRootNode();g.$b(n,"ytp-ce-shown");this.player.V().W&&this.player.A8("endscreenelementhidden",k)}};
g.Y.h5V=function(k){var n=this;k.target===window&&(new g.CB(function(){for(var t=g.y(Object.values(n.T)),d=t.next();!d.done;d=t.next())g.ZE(d.value.element,["ytp-ce-force-expand","ytp-ce-element-hover","ytp-ce-element-shadow-show"])},0)).start()};
g.Y.RJ=function(k){for(var n=g.y(Object.values(this.T)),t=n.next();!t.done;t=n.next())t=t.value,k?t.element.setAttribute("hidden",""):t.element.removeAttribute("hidden")};
g.Y.UEE=function(k){this.B&&this.player.getRootNode().removeChild(this.B);k&&(g.Oo(k,"ytp-ce-hide-button-container"),this.B=k,g.Qn(this.player,this.B,4))};
var PX9=[346,426,470,506,570,640,853,1280,1920],j95="ytp-ce-size-346 ytp-ce-size-426 ytp-ce-size-470 ytp-ce-size-506 ytp-ce-size-570 ytp-ce-size-640 ytp-ce-size-853 ytp-ce-size-1280 ytp-ce-size-1920".split(" "),c6W=["ytp-ce-top-left-quad","ytp-ce-top-right-quad","ytp-ce-bottom-left-quad","ytp-ce-bottom-right-quad"],r69=["ytp-ce-small-round","ytp-ce-medium-round","ytp-ce-large-round"];var AhD={LJ_:"current",m7S:"new"};var q5G={CLOSE:"close",wpH:"openUrl",SUBSCRIBE:"subscribe"},eDm={YB3:"click",CLOSE:"close",GYH:"hidden",taS:"rollOut",bUm:"rollOver",wcS:"shown"};F77.prototype.sI=function(){var k=PGf(this,function(n){return n.type==="openUrl"&&n.url!=null});
return k?k.url:null};
var eJi={CL3:"anchored",FB:"branding",CHANNEL:"channel",NKf:"cta",kYV:"highlightText",fDE:"label",PLAYLIST:"playlist",POPUP:"popup",r2f:"speech",SUBSCRIBE:"subscribe",kNV:"title",VIDEO:"video",xGV:"website"},quD={FB:"branding",cNn:"card",n$_:"drawer",yFw:"highlight",ZKw:"marker",uJk:"promotion",TEXT:"text",JRH:"widget"};g.m(uc,g.N);g.Y=uc.prototype;g.Y.addCueRange=function(k,n,t,d,G){k=new g.Yn(k,n,{id:t,namespace:"annotations_module"});d&&this.IS.set(k,d);G&&this.t8.set(k,G);this.context.N.Br([k],1)};
g.Y.Tb=function(){this.context.T.subscribe("resize",this.Tr,this)};
g.Y.FQ=function(){return this.element};
g.Y.pk=function(k,n,t,d,G,R){if(this.Kf)return!1;R&&(R.stopPropagation(),R.preventDefault());this.navigate(k,t,d,G);return!1};
g.Y.show=function(){};
g.Y.hide=function(){};
g.Y.destroy=function(){g.xV(this.FQ())};
g.Y.Tr=function(){};
g.Y.navigate=function(k,n,t,d){var G=this,R=QY(k);if(R){var O=zDW(R,k.target),D=function(){k.B&&G.context.N.pauseVideo();var Z=G.context.videoData.vr||!1,x=g.OX(R||"");Z&&x&&(x.v||x.list)?G.context.N.Sa(x.v,n,x.list,!1):g.v9(R||"",O==="current"?"_top":void 0,n)};
O==="new"&&(D(),D=null);Rj(this.context.logger,t,D,d);QKf(R)||(t=g.A_(),d=n.itct,t&&d&&g.oA(t,g.Im(d)))}};
g.Y.Cf=function(){this.IS.clear();this.t8.clear();g.N.prototype.Cf.call(this)};
g.Y.createElement=function(k){k=new g.v(k);g.f(this,k);return k.element};g.m(K77,uc);g.Y=K77.prototype;g.Y.l1=function(){this.RS&&pf(this,this.RS)};
g.Y.isAvailable=function(){var k;if(k=!!this.cards.length)(k=this.N.getRootNode())?(k=g.Ur(k),k=173<k.width&&173<k.height):k=!1;return k};
g.Y.Tr=function(){var k=this.isAvailable();g.BV(this.FQ(),k);g.xb(this.context.N.getRootNode(),g.gE.IV_DRAWER_ENABLED,k);BJ(this.N)};
g.Y.destroy=function(){this.N.ST(!1);try{this.N.getRootNode().removeChild(this.S)}catch(k){}g.DS(this.xf);g.qK(this.EE);this.J8&&this.J8.dispose();this.D&&this.D.dispose();uc.prototype.destroy.call(this)};
g.Y.bb=function(){var k=this;this.context.B.listen(g.n9("iv-drawer-close-button",this.S),"click",this.SW,this);this.context.B.listen(this.T,"touchend",function(){k.Lf.start()});
this.context.B.listen(this.T,"scroll",this.cS,this);this.context.T.subscribe("onHideControls",function(){k.kf=!0});
this.context.T.subscribe("onShowControls",function(){k.kf=!1});
this.context.T.subscribe("onVideoAreaChange",function(){k.kf=g.Rb(k.N.getRootNode(),"ytp-autohide")});
this.xf.push(g.on("iv-button-shown",this.ie3,this));this.xf.push(g.on("iv-button-hidden",this.Gi_,this));pQD(this)};
g.Y.findLastIndex=function(k){if(this.cards.length===0)return 0;var n=g.pO(this.cards,function(t){return k.Kb.startMs>t.Kb.startMs||k.Kb.startMs===t.Kb.startMs&&k.Kb.timestamp>=t.Kb.timestamp?!0:!1});
return n===-1?0:n+1};
g.Y.SW=function(){if(this.C){Rj(this.context.logger,t$(this).OB.close);var k=g.A_();k&&this.W&&g.oA(k,this.W);lc(this)}};
g.Y.cS=function(){g.xb(this.S,"iv-drawer-scrolled",this.T.scrollTop>0)};
g.Y.ie3=function(){var k=g.A_(),n=t$(this);n=n?n.x_:this.x_;k&&n&&g.Op(k,[n])};
g.Y.Gi_=function(){var k=g.A_(),n=t$(this);n=n?n.x_:this.x_;k&&n&&g.Y6(k,[n])};
g.Y.M5=function(){var k=t$(this);Rj(this.context.logger,k.OB.KV);var n=g.A_();if(n&&k)if(this.N.G("web_infocards_teaser_show_logging_fix")){var t=[];k.wK&&t.push(k.wK);k.x_&&t.push(k.x_);t.length>0&&g.Op(n,t)}else g.Op(n,[k.wK,k.x_])};
g.Y.yMc=function(){var k=g.A_(),n=t$(this);k&&n&&g.Y6(k,[n.wK])};
g.Y.m3=function(k){var n=t$(this),t=g.A_();this.B?k?(k=this.context.logger,Rj(k,n.OB.hG),k.N.sendVideoStatsEngageEvent(4,void 0),t&&n.wK&&g.oA(t,n.wK)):(k=this.context.logger,Rj(k,n.OB.hG),k.N.sendVideoStatsEngageEvent(4,void 0),t&&n.x_&&g.oA(t,n.x_)):(k=this.context.logger,Rj(k,n.OB.hG),k.N.sendVideoStatsEngageEvent(4,void 0),t&&this.x_&&g.oA(t,this.x_))};g.m(dM,uc);dM.prototype.Tb=function(){uc.prototype.Tb.call(this);RJ5(this)};
dM.prototype.show=function(){uc.prototype.show.call(this);var k=g.A_(),n=this.annotation.data;k&&n&&(n=n.session_data)&&g.Op(k,[g.Im(n.itct)])};
dM.prototype.hide=function(){uc.prototype.hide.call(this);var k=g.A_(),n=this.annotation.data;k&&n&&(n=n.session_data)&&g.Y6(k,[g.Im(n.itct)])};g.m(GL,dM);
GL.prototype.show=function(){if(!this.isActive){dM.prototype.show.call(this);if(!this.W){g.Oo(this.FQ(),"iv-branding");var k=this.annotation.data;this.T=this.createElement({U:"img",yV:["branding-img","iv-click-target"],j:{"aria-label":"Channel watermark",src:k.image_url,width:k.image_width,height:k.image_height}});g.BV(this.T,!1);var n=this.createElement({U:"button",yV:["branding-img-container","ytp-button"]});n.appendChild(this.T);this.FQ().appendChild(n);var t=this.annotation.sI();t&&MC(this,n,
t,this.annotation.id,k.session_data);this.context.N.G("disable_branding_context")||DzG(this,k);this.W=!0}g.BV(this.FQ(),!0);this.isActive=!0;if(this.T){try{OE4(this,this.T)}catch(d){}g.Oo(this.context.N.getRootNode(),"ytp-branding-shown");this.context.N.getRootNode().style.setProperty("--branding-image-width",this.T.getAttribute("width")+"px")}}};
GL.prototype.hide=function(){this.isActive&&(dM.prototype.hide.call(this),g.BV(this.FQ(),!1),this.isActive=!1,g.$b(this.context.N.getRootNode(),"ytp-branding-shown"))};
GL.prototype.destroy=function(){this.B&&(this.B.dispose(),this.B=null);g.$b(this.context.N.getRootNode(),"ytp-branding-shown");dM.prototype.destroy.call(this)};g.m(ZEG,dM);g.Y=ZEG.prototype;g.Y.show=function(){this.isActive||(dM.prototype.show.call(this),this.K||(wl5(this),this.K=!0),g.BV(this.FQ(),!0),g.HG(function(){g.$b(this.FQ(),"iv-promo-inactive")},100,this),this.FQ().removeAttribute("aria-hidden"),this.isActive=!0,LTm(this),Tz4(this),iE5(this,this.L))};
g.Y.hide=function(){this.isActive&&(g.Oo(this.FQ(),"iv-promo-inactive"),this.isActive=!1,this.FQ().setAttribute("aria-hidden","true"))};
g.Y.pk=function(k,n,t,d,G,R){return this.isCollapsed?!1:dM.prototype.pk.call(this,k,n,t,d,G,R)};
g.Y.D3H=function(k){this.X=!0;xz4(this,500,k)};
g.Y.Off=function(){this.X=!1;J64(this)};
g.Y.e_E=function(k){k.stopPropagation();this.hide()};
g.Y.U3f=function(k){k.stopPropagation();LTm(this);this.isCollapsed=!0;g.Oo(this.FQ(),"iv-promo-collapsed-no-delay");this.D.start()};
g.Y.destroy=function(){this.D.dispose();dM.prototype.destroy.call(this)};g.m(mzm,g.Jz);g.Y=mzm.prototype;g.Y.Dw=function(k,n){if(!FTO(this.player.V().playerStyle))return null;switch(k){case "loadCustomAnnotationsXml":return(k=g.M4(n))&&Uzf(this,k),!0;case "removeCustomAnnotationById":return n&&this.B&&(gdO(this.B,n),BJ(this.player)),!0}return null};
g.Y.getOptions=function(){return FTO(this.player.V().playerStyle)?["loadCustomAnnotationsXml","removeCustomAnnotationById"]:[]};
g.Y.yX=function(){var k=this.player.V(),n=this.player.getVideoData(),t=k.annotationsLoadPolicy||n.annotationsLoadPolicy;return g.o1(n)||this.player.isMutedByEmbedsMutedAutoplay()?!1:t===1&&!n.Q4||k.uf.get(n.videoId)||g.cx(n)||g.Nr(n)?!0:!1};
g.Y.D6=function(){if(this.C){var k=this.player.jm().getVideoContentRect(!0);g.Er(this.C.element,k.width,k.height);g.b7(this.C.element,k.left,k.top)}if(this.B){var n=this.player.Xu();k=this.B;n=n.width;g.xb(k.S,"iv-drawer-small",n<=426);g.xb(k.S,"iv-drawer-big",n>=1280)}};
g.Y.Y9=function(k){s95(this,k.state);g.u(k.state,2)&&(this.OG()&&this.Yr()&&this.player.getPresentingPlayerType()!==2&&this.eT(!1),this.ST(!1))};
g.Y.load=function(){function k(O){var D=n.loadNumber;n.D=null;n.loaded&&n.loadNumber===D&&n.player.getVideoData().videoId===d&&(O=g.JF(O)&&O.responseXML?O.responseXML:null)&&(Uzf(n,O),g.Oo(n.player.getRootNode(),"iv-module-loaded"))}
var n=this;g.Jz.prototype.load.call(this);s95(this,this.player.getPlayerStateObject());this.loadNumber++;var t=this.player.getVideoData(),d=t.videoId;g.d2()&&(k=Bzk(this,k));var G={format:"XML",onFinish:k,onError:function(){n.D=null},
urlParams:{}};t.isPharma&&(G.urlParams.pharma="1");G.method="POST";G.withCredentials=!0;var R=this.player.V().uf.get(d);R&&IYk(G,R);R=R&&(R.m2||R.UP);if(!t.fJ||R)t.lf?Xl9(this,t.lf,G):(this.W=function(){if(!n.X)n.onVideoDataChange(G);var O=n.player.getVideoData();(O==null?0:g.rt(O))&&!n.xf&&WTi(n,O)},this.player.addEventListener("videodatachange",this.W));
g.Qn(this.player,this.C.element,4);this.D6();(R=g.cx(t))&&A6D(this,R);(R=g.Nr(t))&&R.featuredChannel&&HED(this,R.featuredChannel,R.annotationId||"branding",t.videoId||null,t.eventId||null);this.EO=g.n9("ytp-cards-button",this.player.getRootNode());g.rt(t)&&WTi(this,t)};
g.Y.onVideoDataChange=function(k){var n=this.player.getVideoData();n.lf&&Xl9(this,n.lf,k)};
g.Y.unload=function(){this.player.Vd("annotations_module");for(var k=g.y(Object.keys(this.L)),n=k.next();!n.done;n=k.next())this.L[n.value].destroy();this.K=null;this.B&&(this.B.destroy(),this.B=null,BJ(this.player));this.X=!1;this.D&&(this.D.abort(),this.D=null);this.xf=!1;this.L={};this.T.hide();g.Jz.prototype.unload.call(this);this.C.detach();this.W&&(this.player.removeEventListener("videodatachange",this.W),this.W=null)};
g.Y.TW=function(k){k===this.player.getVideoData().videoId&&(this.loaded?hJO(this):this.load())};
g.Y.OG=function(){var k;return((k=this.B)==null?void 0:k.isAvailable())||this.xf};
g.Y.Yr=function(){return!!this.B&&this.B.C};
g.Y.eT=function(k,n,t){n=n===void 0?!1:n;this.OG();this.B&&(k?t?Cf(this.B,t,n):Cf(this.B,"YOUTUBE_DRAWER_AUTO_OPEN",n):lc(this.B))};
g.Y.ST=function(k,n){this.player.publish(k?"cardsteasershow":"cardsteaserhide",n)};
g.Y.Cf=function(){this.player.V().uf.unsubscribe("vast_info_card_add",this.TW,this);g.$b(this.player.getRootNode(),g.gE.IV_DRAWER_OPEN);for(var k=this.RS,n=g.zt,t=0,d=k.length;t<d;t++)n.iq(k[t]);this.RS.length=0;g.Jz.prototype.Cf.call(this)};
g.Y.createElement=function(k){k=new g.v(k);g.f(this,k);return k.element};g.iH("annotations_module",mzm);g.iH("creatorendscreen",TQ5);})(_yt_player);
